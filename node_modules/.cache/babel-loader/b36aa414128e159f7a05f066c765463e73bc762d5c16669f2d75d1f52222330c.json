{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\BRAINTECH\\\\Desktop\\\\movie-review-platform-movies\\\\frontend\\\\src\\\\pages\\\\AddReview.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddReview() {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // Read URL parameters\n  const params = new URLSearchParams(location.search);\n  const movieId = params.get('movieId');\n  const movieTitle = params.get('movieTitle');\n  const [rating, setRating] = useState(5);\n  const [text, setText] = useState('');\n  const [userName, setUserName] = useState('Demo User');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!movieId) {\n      setError('No movie selected.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      await axios.post(`${process.env.REACT_APP_BACKEND_URL || 'http://localhost:5000'}/api/reviews`, {\n        movieId,\n        movieTitle: decodeURIComponent(movieTitle),\n        rating: Number(rating),\n        text,\n        userName,\n        userId: 'demo' // Change later with login\n      });\n\n      // Go back to movie details\n      navigate(`/movie/${movieId}`);\n    } catch (err) {\n      setError('Failed to submit review. Is backend running?');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mb-4\",\n      children: \"Add Review\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Movie:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), ' ', movieId && movieTitle ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-primary\",\n            children: decodeURIComponent(movieTitle)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"(no movie selected)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-select\",\n          value: rating,\n          onChange: e => setRating(e.target.value),\n          required: true,\n          children: [5, 4, 3, 2, 1].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: n,\n            children: [n, \" Star\", n > 1 ? 's' : '']\n          }, n, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"form-control\",\n          rows: \"5\",\n          value: text,\n          onChange: e => setText(e.target.value),\n          placeholder: \"Write your thoughts...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Your Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: userName,\n          onChange: e => setUserName(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-success btn-lg\",\n        disabled: loading || !movieId,\n        children: loading ? 'Submitting...' : 'Submit Review'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(AddReview, \"UWfHCqH/yUApjKbZZy8VN4kXsWk=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = AddReview;\nvar _c;\n$RefreshReg$(_c, \"AddReview\");","map":{"version":3,"names":["React","useState","axios","useLocation","useNavigate","jsxDEV","_jsxDEV","AddReview","_s","location","navigate","params","URLSearchParams","search","movieId","get","movieTitle","rating","setRating","text","setText","userName","setUserName","loading","setLoading","error","setError","handleSubmit","e","preventDefault","post","process","env","REACT_APP_BACKEND_URL","decodeURIComponent","Number","userId","err","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","map","n","rows","placeholder","type","disabled","_c","$RefreshReg$"],"sources":["C:/Users/BRAINTECH/Desktop/movie-review-platform-movies/frontend/src/pages/AddReview.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nexport default function AddReview() {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // Read URL parameters\n  const params = new URLSearchParams(location.search);\n  const movieId = params.get('movieId');\n  const movieTitle = params.get('movieTitle');\n\n  const [rating, setRating] = useState(5);\n  const [text, setText] = useState('');\n  const [userName, setUserName] = useState('Demo User');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!movieId) {\n      setError('No movie selected.');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      await axios.post(`${process.env.REACT_APP_BACKEND_URL || 'http://localhost:5000'}/api/reviews`, {\n        movieId,\n        movieTitle: decodeURIComponent(movieTitle),\n        rating: Number(rating),\n        text,\n        userName,\n        userId: 'demo' // Change later with login\n      });\n\n      // Go back to movie details\n      navigate(`/movie/${movieId}`);\n    } catch (err) {\n      setError('Failed to submit review. Is backend running?');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container py-5\">\n      <h1 className=\"mb-4\">Add Review</h1>\n\n      <div className=\"card mb-4\">\n        <div className=\"card-body\">\n          <p className=\"mb-0\">\n            <strong>Movie:</strong>{' '}\n            {movieId && movieTitle ? (\n              <span className=\"text-primary\">{decodeURIComponent(movieTitle)}</span>\n            ) : (\n              <span className=\"text-danger\">(no movie selected)</span>\n            )}\n          </p>\n        </div>\n      </div>\n\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"mb-3\">\n          <label className=\"form-label\">Rating</label>\n          <select\n            className=\"form-select\"\n            value={rating}\n            onChange={(e) => setRating(e.target.value)}\n            required\n          >\n            {[5, 4, 3, 2, 1].map(n => (\n              <option key={n} value={n}>{n} Star{n > 1 ? 's' : ''}</option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"mb-3\">\n          <label className=\"form-label\">Review</label>\n          <textarea\n            className=\"form-control\"\n            rows=\"5\"\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n            placeholder=\"Write your thoughts...\"\n            required\n          />\n        </div>\n\n        <div className=\"mb-3\">\n          <label className=\"form-label\">Your Name</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={userName}\n            onChange={(e) => setUserName(e.target.value)}\n            required\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"btn btn-success btn-lg\"\n          disabled={loading || !movieId}\n        >\n          {loading ? 'Submitting...' : 'Submit Review'}\n        </button>\n      </form>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}